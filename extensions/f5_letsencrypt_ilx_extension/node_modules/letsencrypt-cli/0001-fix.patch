From 91af74325464d40e7fa6af6b6962a0fad49a8d69 Mon Sep 17 00:00:00 2001
From: root <root@internal.m-bytes.com>
Date: Wed, 12 Oct 2016 14:19:34 +1100
Subject: [PATCH] fix

---
 index.js |   24 +++++++++++++++---------
 1 file changed, 15 insertions(+), 9 deletions(-)

diff --git a/index.js b/index.js
index e4deb83..49e0324 100644
--- a/index.js
+++ b/index.js
@@ -54,7 +54,7 @@ module.exports.run = function (args) {
     servers = require('./lib/servers').create(leChallenge);
   }
 
-  var privkeyPath = args.domainKeyPath || ':configDir/live/:hostname/privkey.pem' //args.privkeyPath;
+  var privkeyPath = args.domainKeyPath || ':configDir/live/:hostname/privkey.pem'; //args.privkeyPath
   leStore = require('le-store-certbot').create({
     configDir: args.configDir
   , privkeyPath: privkeyPath
@@ -127,18 +127,24 @@ module.exports.run = function (args) {
     console.log("\tValid until " + new Date(certs.expiresAt).toISOString() + "");
     console.log("");
     console.log('Private key installed at:');
-    console.log(privkeyPath.replace(/:hostname/g, args.domains[0]));
+    console.log(
+      privkeyPath
+      .replace(/:configDir/g, args.configDir)
+      .replace(/:hostname/g, args.domains[0])
+    );
     console.log("");
 
     // should get back account, path to certs, pems, etc?
     console.log('Certificates installed at:');
-    console.log([
-      args.certPath
-    , args.chainPath
-    , args.fullchainPath
-    ]).map(function (key) {
-      return args[key];
-    }).join('\n').replace(/:hostname/g, args.domains[0]));
+    console.log(
+      [
+        args.certPath
+      , args.chainPath
+      , args.fullchainPath
+      ].join('\n')
+      .replace(/:configDir/g, args.configDir)
+      .replace(/:hostname/g, args.domains[0])
+    );
     console.log("");
 
     process.exit(0);
-- 
1.7.10.4

